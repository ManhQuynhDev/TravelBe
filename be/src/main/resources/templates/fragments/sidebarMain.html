<div id="sidebarMain" class="d-none" th:fragment="sidebarMain">
    <aside
        class="js-navbar-vertical-aside navbar navbar-vertical-aside navbar-vertical navbar-vertical-fixed navbar-expand-xl navbar-default navbar-vertical-aside-initialized border-right">
        <div class="navbar-vertical-container">
            <div class="navbar-vertical-footer-offset">
                <div class="navbar-brand-wrapper justify-content-between" id="navbarBrandWrapper">
                    <a class="navbar-brand" aria-label="Front" th:href="@{/web-server/}">
                        <img class="navbar-brand-logo" th:src="@{/assets/svg/logos/logo.svg}" alt="Logo">
                        <p id="navbarText">Travel With Me</p>
                        <img class="navbar-brand-logo-mini" th:src="@{/assets/svg/logos/logo.svg}" alt="Logo">
                    </a>
                    <button type="button"
                        class="js-navbar-vertical-aside-toggle-invoker navbar-vertical-aside-toggle btn btn-icon btn-xs btn-ghost-dark">
                        <i class="tio-clear tio-lg"></i>
                    </button>
                </div>
                <div class="navbar-vertical-content">
                    <ul class="navbar-nav navbar-nav-lg nav-tabs">
                        <li class="nav-item">
                            <a th:href="@{/web-server/}" class="js-nav-tooltip-link nav-link" title="Bảng điều khiển"
                                data-placement="left">
                                <i class="tio-home-vs-1-outlined nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Bảng điều
                                    khiển</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <small class="nav-subtitle" title="Quản lý">Quản lý</small>
                            <small class="tio-more-horizontal nav-subtitle-replacer"></small>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/web-server/users}" class="js-navbar-vertical-aside-menu-link nav-link"
                                title="Người dùng">
                                <i class="tio-user nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Người
                                    dùng</span>
                            </a>
                        </li>
                        <li class="nav-item" id="managerSection">
                            <a th:href="@{/web-server/manager}" class="js-navbar-vertical-aside-menu-link nav-link"
                                title="Quản lý">
                                <i class="tio-user-big nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Quản
                                    lý</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/web-server/posts}" class="js-navbar-vertical-aside-menu-link nav-link"
                                title="Bài đăng">
                                <i class="tio-comment-image nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Bài
                                    đăng</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/web-server/reports}" class="js-navbar-vertical-aside-menu-link nav-link"
                                title="Báo cáo">
                                <i class="tio-report nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Báo
                                    cáo</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/web-server/groups}" class="js-navbar-vertical-aside-menu-link nav-link"
                                title="Nhóm">
                                <i class="tio-group-junior nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Nhóm</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/web-server/comments}" class="js-navbar-vertical-aside-menu-link nav-link"
                                title="Bình luận">
                                <i class="tio-comment-text nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Bình
                                    luận</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/web-server/stories}" class="js-navbar-vertical-aside-menu-link nav-link"
                                title="Câu chuyện">
                                <i class="tio-apps nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Story</span>
                            </a>
                        </li>



                        <li class="nav-item">
                            <a th:href="@{/web-server/message-group}"
                                class="js-navbar-vertical-aside-menu-link nav-link" title="Nhóm tin nhắn">
                                <i class="tio-messenger nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Tin
                                    nhắn</span>
                            </a>
                        </li>

                        <li class="nav-item">
                            <a th:href="@{/web-server/activity}" class="js-navbar-vertical-aside-menu-link nav-link"
                                title="Hoạt động">
                                <i class="tio-calendar nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Hoạt
                                    động</span>
                            </a>
                        </li>

                        <li class="nav-item">
                            <a th:href="@{/web-server/travel-plan}" class="js-navbar-vertical-aside-menu-link nav-link"
                                title="Kế hoạch du lịch">
                                <i class="tio-map nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">Kế hoạch du
                                    lịch</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/web-server/reviews}" class="js-navbar-vertical-aside-menu-link nav-link"
                                title="Đánh giá">
                                <i class="tio-map nav-icon"></i>
                                <span class="navbar-vertical-aside-mini-mode-hidden-elements text-truncate">
                                    Đánh giá</span>
                            </a>
                        </li>


                        <div class="navbar-vertical-footer">
                            <ul class="navbar-vertical-footer-list">
                                <li class="navbar-vertical-footer-list-item">
                                    <div class="hs-unfold">
                                        <a class="js-hs-unfold-invoker btn btn-icon btn-ghost-secondary rounded-circle"
                                            href="javascript:;" data-hs-unfold-options="{
                                      &quot;target&quot;: &quot;#styleSwitcherDropdown&quot;,
                                      &quot;type&quot;: &quot;css-animation&quot;,
                                      &quot;animationIn&quot;: &quot;fadeInRight&quot;,
                                      &quot;animationOut&quot;: &quot;fadeOutRight&quot;,
                                      &quot;hasOverlay&quot;: true,
                                      &quot;smartPositionOff&quot;: true
                                     }" data-hs-unfold-target="#styleSwitcherDropdown" data-hs-unfold-invoker="">
                                            <i class="tio-tune"></i>
                                        </a>
                                    </div>
                                </li>
                                <li class="navbar-vertical-footer-list-item">
                                    <div class="hs-unfold">
                                        <a class="js-hs-unfold-invoker btn btn-icon btn-ghost-secondary rounded-circle"
                                            href="javascript:;" data-hs-unfold-options="{
                                      &quot;target&quot;: &quot;#languageDropdown&quot;,
                                      &quot;type&quot;: &quot;css-animation&quot;,
                                      &quot;animationIn&quot;: &quot;slideInDown&quot;,
                                      &quot;hideOnScroll&quot;: true
                                     }" data-hs-unfold-target="#languageDropdown" data-hs-unfold-invoker="">
                                            <img class="avatar avatar-xss avatar-circle"
                                                th:src="@{/assets/vendor/flag-icon-css/flags/1x1/us.svg}"
                                                alt="United States Flag">
                                        </a>

                                        <div id="languageDropdown"
                                            class="hs-unfold-content dropdown-unfold dropdown-menu navbar-vertical-footer-dropdown hs-unfold-hidden hs-unfold-content-initialized hs-unfold-css-animation animated hs-unfold-reverse-y"
                                            data-hs-target-height="262.712" data-hs-unfold-content=""
                                            data-hs-unfold-content-animation-in="slideInDown"
                                            data-hs-unfold-content-animation-out="fadeOut"
                                            style="animation-duration: 300ms;">
                                            <span class="dropdown-header">Select language</span>
                                            <a class="dropdown-item" href="#">
                                                <img class="avatar avatar-xss avatar-circle mr-2"
                                                    th:src="@{/assets/vendor/flag-icon-css/flags/1x1/us.svg}"
                                                    alt="Flag">
                                                <span class="text-truncate pr-2" title="English">English (US)</span>
                                            </a>
                                            <a class="dropdown-item" href="#">
                                                <img class="avatar avatar-xss avatar-circle mr-2"
                                                    th:src="@{/assets/vendor/flag-icon-css/flags/1x1/gb.svg}"
                                                    alt="Flag">
                                                <span class="text-truncate pr-2" title="English">English (UK)</span>
                                            </a>
                                            <a class="dropdown-item" href="#">
                                                <img class="avatar avatar-xss avatar-circle mr-2"
                                                    th:src="@{/assets/vendor/flag-icon-css/flags/1x1/de.svg}"
                                                    alt="Flag">
                                                <span class="text-truncate pr-2" title="Deutsch">Deutsch</span>
                                            </a>
                                            <a class="dropdown-item" href="#">
                                                <img class="avatar avatar-xss avatar-circle mr-2"
                                                    th:src="@{/assets/vendor/flag-icon-css/flags/1x1/dk.svg}"
                                                    alt="Flag">
                                                <span class="text-truncate pr-2" title="Dansk">Dansk</span>
                                            </a>
                                            <a class="dropdown-item" href="#">
                                                <img class="avatar avatar-xss avatar-circle mr-2"
                                                    th:src="@{/assets/vendor/flag-icon-css/flags/1x1/it.svg}"
                                                    alt="Flag">
                                                <span class="text-truncate pr-2" title="Italiano">Italiano</span>
                                            </a>
                                            <a class="dropdown-item" href="#">
                                                <img class="avatar avatar-xss avatar-circle mr-2"
                                                    th:src="@{/assets/vendor/flag-icon-css/flags/1x1/cn.svg}"
                                                    alt="Flag">
                                                <span class="text-truncate pr-2" title="中文 (繁體)">中文 (繁體)</span>
                                            </a>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </ul>
                </div>
            </div>
        </div>
    </aside>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const userRole = localStorage.getItem('userRole');
        console.log(userRole);


        if (userRole === "MANAGER") {
            const managerSection = document.getElementById("managerSection");
            if (managerSection) {
                managerSection.style.display = 'none';
            }
        }

    });

    document.addEventListener("DOMContentLoaded", () => {
        const menuItems = document.querySelectorAll('.nav-item');

        const currentUrl = new URL(window.location.href);

        menuItems.forEach(item => {
            const link = item.querySelector('a');
            if (link) {
                const linkHref = new URL(link.getAttribute('href'), window.location.origin);

                if (currentUrl.pathname === linkHref.pathname) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            }
        });
    });




</script>